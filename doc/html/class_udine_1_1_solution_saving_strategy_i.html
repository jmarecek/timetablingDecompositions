<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MemosTimetabling: Udine::SolutionSavingStrategyI Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespace_udine.html">Udine</a>::<a class="el" href="class_udine_1_1_solution_saving_strategy_i.html">SolutionSavingStrategyI</a>
  </div>
</div>
<div class="contents">
<h1>Udine::SolutionSavingStrategyI Class Reference</h1><!-- doxytag: class="Udine::SolutionSavingStrategyI" --><!-- doxytag: inherits="Udine::StrategyI" --><code>#include &lt;<a class="el" href="strategy_8h_source.html">strategy.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for Udine::SolutionSavingStrategyI:</div>
<div class="dynsection">
<p><center><img src="class_udine_1_1_solution_saving_strategy_i__inherit__graph.png" border="0" usemap="#_udine_1_1_solution_saving_strategy_i__inherit__map" alt="Inheritance graph"></center>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for Udine::SolutionSavingStrategyI:</div>
<div class="dynsection">
<p><center><img src="class_udine_1_1_solution_saving_strategy_i__coll__graph.png" border="0" usemap="#_udine_1_1_solution_saving_strategy_i__coll__map" alt="Collaboration graph"></center>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_udine_1_1_solution_saving_strategy_i.html#3e726997b642f32530d5b5d071c53058">SolutionSavingStrategyI</a> (IloEnv &amp;environment, <a class="el" href="class_udine_1_1_model.html">Model</a> &amp;s, <a class="el" href="struct_udine_1_1_config.html">Config</a> &amp;configuration)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_udine_1_1_solution_saving_strategy_i.html#6e76979b8a1baecf39e957fdef014ffe">main</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_udine_1_1_solution_saving_strategy_i.html#72e9677edabd99e05779c0fc344409a5">finishOff</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="strategy_8h_source.html#l00101">101</a> of file <a class="el" href="strategy_8h_source.html">strategy.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="3e726997b642f32530d5b5d071c53058"></a><!-- doxytag: member="Udine::SolutionSavingStrategyI::SolutionSavingStrategyI" ref="3e726997b642f32530d5b5d071c53058" args="(IloEnv &amp;environment, Model &amp;s, Config &amp;configuration)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Udine::SolutionSavingStrategyI::SolutionSavingStrategyI           </td>
          <td>(</td>
          <td class="paramtype">IloEnv &amp;&nbsp;</td>
          <td class="paramname"> <em>environment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_udine_1_1_model.html">Model</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_udine_1_1_config.html">Config</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>configuration</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="strategy_8h_source.html#l00104">104</a> of file <a class="el" href="strategy_8h_source.html">strategy.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00105"></a>00105   : <a class="code" href="class_udine_1_1_strategy_i.html#c73439e6ae76db5775994dcbd8cccaf4">StrategyI</a>(environment, s, configuration) { 
<a name="l00106"></a>00106   }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="72e9677edabd99e05779c0fc344409a5"></a><!-- doxytag: member="Udine::SolutionSavingStrategyI::finishOff" ref="72e9677edabd99e05779c0fc344409a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SolutionSavingStrategyI::finishOff           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Implements <a class="el" href="class_udine_1_1_strategy_i.html#83548b4bace50f695b498aadfea23dbe">Udine::StrategyI</a>.</p>

<p>Definition at line <a class="el" href="strategy_8cpp_source.html#l00395">395</a> of file <a class="el" href="strategy_8cpp_source.html">strategy.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00395"></a>00395                                         {
<a name="l00396"></a>00396 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="6e76979b8a1baecf39e957fdef014ffe"></a><!-- doxytag: member="Udine::SolutionSavingStrategyI::main" ref="6e76979b8a1baecf39e957fdef014ffe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SolutionSavingStrategyI::main           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Implements <a class="el" href="class_udine_1_1_strategy_i.html#d7ed204450aef8d34afa6be4ef635ae0">Udine::StrategyI</a>.</p>

<p>Definition at line <a class="el" href="strategy_8cpp_source.html#l00321">321</a> of file <a class="el" href="strategy_8cpp_source.html">strategy.cpp</a>.</p>

<p>References <a class="el" href="solver__config_8cpp_source.html#l00102">Udine::Config::addSolutionCost()</a>, <a class="el" href="strategy_8h_source.html#l00045">Udine::StrategyI::config</a>, <a class="el" href="model_8h_source.html#l00051">Udine::Model::definition</a>, <a class="el" href="solver__config_8cpp_source.html#l00098">Udine::Config::elapsed()</a>, <a class="el" href="strategy_8h_source.html#l00044">Udine::StrategyI::env</a>, <a class="el" href="loader_8h_source.html#l00107">Udine::Instance::getCourse()</a>, <a class="el" href="loader_8h_source.html#l00102">Udine::Instance::getCourseCount()</a>, <a class="el" href="loader_8h_source.html#l00098">Udine::Instance::getPeriodCount()</a>, <a class="el" href="loader_8h_source.html#l00100">Udine::Instance::getPeriodsPerDayCount()</a>, <a class="el" href="loader_8h_source.html#l00122">Udine::Instance::getRoomCount()</a>, <a class="el" href="loader_8h_source.html#l00135">Udine::Instance::getRoomName()</a>, <a class="el" href="solver__config_8cpp_source.html#l00093">Udine::Config::getWeights()</a>, <a class="el" href="model_8h_source.html#l00044">Udine::Model::instance</a>, <a class="el" href="strategy_8h_source.html#l00046">Udine::StrategyI::model</a>, <a class="el" href="loader_8h_source.html#l00040">Udine::Course::name</a>, <a class="el" href="solver__config_8h_source.html#l00110">Udine::Config::path</a>, <a class="el" href="strategy_8cpp_source.html#l00030">roundProperly()</a>, <a class="el" href="strategy_8cpp_source.html#l00079">Udine::StrategyI::sumExtraRoomsUsed()</a>, <a class="el" href="strategy_8cpp_source.html#l00032">Udine::StrategyI::sumMissingCourseDays()</a>, <a class="el" href="strategy_8cpp_source.html#l00064">Udine::StrategyI::sumMissingSeats()</a>, <a class="el" href="strategy_8cpp_source.html#l00044">Udine::StrategyI::sumSingletonChecks()</a>, <a class="el" href="neighbourhood_8h_source.html#l00042">Udine::Neighbourhood::type</a>, <a class="el" href="model_8h_source.html#l00047">Udine::Model::vars</a>, <a class="el" href="solver__config_8h_source.html#l00096">Udine::ObjectiveWeights::wCompactness</a>, <a class="el" href="solver__config_8h_source.html#l00095">Udine::ObjectiveWeights::wMinDays</a>, <a class="el" href="solver__config_8h_source.html#l00094">Udine::ObjectiveWeights::wRoomCapacity</a>, <a class="el" href="solver__config_8h_source.html#l00097">Udine::ObjectiveWeights::wRoomStability</a>, and <a class="el" href="variables_8h_source.html#l00038">Udine::Variables::x</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00321"></a>00321                                    {
<a name="l00322"></a>00322   <span class="keywordflow">try</span> {
<a name="l00323"></a>00323     std::stringstream log;
<a name="l00324"></a>00324     std::stringstream sol;
<a name="l00325"></a>00325 
<a name="l00326"></a>00326     <span class="keywordtype">int</span> pRoomCapacity = <a class="code" href="class_udine_1_1_strategy_i.html#34cb6a3734cc8cd25589b2946c2e6a45">sumMissingSeats</a>();
<a name="l00327"></a>00327     <span class="keywordtype">int</span> pMinDays = <a class="code" href="class_udine_1_1_strategy_i.html#c9b811d84791229ad00ec99441671cf3">sumMissingCourseDays</a>();
<a name="l00328"></a>00328     <span class="keywordtype">int</span> pCompactness = <a class="code" href="class_udine_1_1_strategy_i.html#045b6e91b05c618173a100a72b097eb4">sumSingletonChecks</a>();
<a name="l00329"></a>00329     <span class="keywordtype">int</span> pRoomStability = <a class="code" href="class_udine_1_1_strategy_i.html#b1995072fcfd33d9e4844daad65d909b">sumExtraRoomsUsed</a>();
<a name="l00330"></a>00330     <span class="keywordtype">int</span> pTotal = 
<a name="l00331"></a>00331       <a class="code" href="class_udine_1_1_strategy_i.html#88206bf5447f65d712d08bc9b67c0473">config</a>.<a class="code" href="struct_udine_1_1_config.html#82d2d58a1a4b1cb32ab7866b861c23f1">getWeights</a>(<a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#928587761859afb30c99cdb5bbb7b20b">definition</a>.<a class="code" href="struct_udine_1_1_neighbourhood.html#c3471fcbd33b97ef04823b49719d7fb6">type</a>).<a class="code" href="struct_udine_1_1_objective_weights.html#75aeba184b1821209a7c81fa34e8c2bf">wMinDays</a> * pMinDays + 
<a name="l00332"></a>00332       <a class="code" href="class_udine_1_1_strategy_i.html#88206bf5447f65d712d08bc9b67c0473">config</a>.<a class="code" href="struct_udine_1_1_config.html#82d2d58a1a4b1cb32ab7866b861c23f1">getWeights</a>(<a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#928587761859afb30c99cdb5bbb7b20b">definition</a>.<a class="code" href="struct_udine_1_1_neighbourhood.html#c3471fcbd33b97ef04823b49719d7fb6">type</a>).<a class="code" href="struct_udine_1_1_objective_weights.html#c12f7ae3c13315d000f2aecddb86479e">wCompactness</a> * pCompactness + 
<a name="l00333"></a>00333       <a class="code" href="class_udine_1_1_strategy_i.html#88206bf5447f65d712d08bc9b67c0473">config</a>.<a class="code" href="struct_udine_1_1_config.html#82d2d58a1a4b1cb32ab7866b861c23f1">getWeights</a>(<a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#928587761859afb30c99cdb5bbb7b20b">definition</a>.<a class="code" href="struct_udine_1_1_neighbourhood.html#c3471fcbd33b97ef04823b49719d7fb6">type</a>).<a class="code" href="struct_udine_1_1_objective_weights.html#dd02352abd55e229bd154f0cc665f49d">wRoomCapacity</a> * pRoomCapacity + 
<a name="l00334"></a>00334       <a class="code" href="class_udine_1_1_strategy_i.html#88206bf5447f65d712d08bc9b67c0473">config</a>.<a class="code" href="struct_udine_1_1_config.html#82d2d58a1a4b1cb32ab7866b861c23f1">getWeights</a>(<a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#928587761859afb30c99cdb5bbb7b20b">definition</a>.<a class="code" href="struct_udine_1_1_neighbourhood.html#c3471fcbd33b97ef04823b49719d7fb6">type</a>).<a class="code" href="struct_udine_1_1_objective_weights.html#6f65b00ba7a6a851fbda23d8135e62cd">wRoomStability</a> * pRoomStability;
<a name="l00335"></a>00335 
<a name="l00336"></a>00336     log &lt;&lt; <span class="stringliteral">"&lt;solution submodelCost='"</span> &lt;&lt; getObjValue() &lt;&lt; <span class="stringliteral">"' "</span>;
<a name="l00337"></a>00337     log &lt;&lt; <span class="stringliteral">"cost='"</span> &lt;&lt; pTotal &lt;&lt; <span class="stringliteral">"' "</span>;
<a name="l00338"></a>00338     log &lt;&lt; <span class="stringliteral">"data='"</span> &lt;&lt; <a class="code" href="class_udine_1_1_strategy_i.html#88206bf5447f65d712d08bc9b67c0473">config</a>.<a class="code" href="struct_udine_1_1_config.html#19bdbb787d800b77fe8565ea543173b1">path</a> &lt;&lt; <span class="stringliteral">"' "</span>;
<a name="l00339"></a>00339     log &lt;&lt; <span class="stringliteral">"type='"</span> &lt;&lt; <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#928587761859afb30c99cdb5bbb7b20b">definition</a>.<a class="code" href="struct_udine_1_1_neighbourhood.html#c3471fcbd33b97ef04823b49719d7fb6">type</a> &lt;&lt; <span class="stringliteral">"' "</span>;
<a name="l00340"></a>00340     log &lt;&lt; <span class="stringliteral">"discovered='"</span> &lt;&lt; <a class="code" href="class_udine_1_1_strategy_i.html#88206bf5447f65d712d08bc9b67c0473">config</a>.<a class="code" href="struct_udine_1_1_config.html#5d418a03e5e6c0ebe839987e82b2aba0">elapsed</a>() &lt;&lt; <span class="stringliteral">"' "</span>;
<a name="l00341"></a>00341     log &lt;&lt; <span class="stringliteral">"neighbourhoodLB='"</span> &lt;&lt; getBestObjValue() &lt;&lt; <span class="stringliteral">"' "</span>;
<a name="l00342"></a>00342     log &lt;&lt; <span class="stringliteral">"penaltyRoomCapacity='"</span> &lt;&lt; pRoomCapacity &lt;&lt; <span class="stringliteral">"' "</span>;
<a name="l00343"></a>00343     log &lt;&lt; <span class="stringliteral">"penaltyMinCourseDays='"</span> &lt;&lt; pMinDays &lt;&lt; <span class="stringliteral">"' "</span>;
<a name="l00344"></a>00344     log &lt;&lt; <span class="stringliteral">"penaltyCompactness='"</span> &lt;&lt; pCompactness &lt;&lt; <span class="stringliteral">"' "</span>;
<a name="l00345"></a>00345     log &lt;&lt; <span class="stringliteral">"penaltyRoomStability='"</span> &lt;&lt; pRoomStability &lt;&lt; <span class="stringliteral">"' "</span>;
<a name="l00346"></a>00346 
<a name="l00347"></a>00347     log &lt;&lt; <span class="stringliteral">"&gt;\n"</span>;
<a name="l00348"></a>00348 
<a name="l00349"></a>00349     <span class="keywordtype">int</span> c, p, r;  <span class="comment">// course, period, room</span>
<a name="l00350"></a>00350     <span class="keywordflow">for</span>(c = 0; c &lt; <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#e1a1e700d38b731c4785686fc2badeed">instance</a>.<a class="code" href="class_udine_1_1_instance.html#6020dc8bfec316fa74b5594ce6bb12e9">getCourseCount</a>(); c++)
<a name="l00351"></a>00351       <span class="keywordflow">for</span>(p = 0; p &lt; <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#e1a1e700d38b731c4785686fc2badeed">instance</a>.<a class="code" href="class_udine_1_1_instance.html#e66c619fb7725c038dad84d29cf7880e">getPeriodCount</a>(); p++) {
<a name="l00352"></a>00352         <span class="keywordtype">int</span> day = (int)std::floor(<span class="keywordtype">float</span>(p / <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#e1a1e700d38b731c4785686fc2badeed">instance</a>.<a class="code" href="class_udine_1_1_instance.html#c1d2656cb45a9b3f09c3dc8f4096f5d5">getPeriodsPerDayCount</a>()));
<a name="l00353"></a>00353         <span class="keywordtype">int</span> periodWithin = p % <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#e1a1e700d38b731c4785686fc2badeed">instance</a>.<a class="code" href="class_udine_1_1_instance.html#c1d2656cb45a9b3f09c3dc8f4096f5d5">getPeriodsPerDayCount</a>();
<a name="l00354"></a>00354         <span class="keywordflow">for</span>(r = 0; r &lt; <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#e1a1e700d38b731c4785686fc2badeed">instance</a>.<a class="code" href="class_udine_1_1_instance.html#0236aa15c9e367c0b235a5398d19356c">getRoomCount</a>(<a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#928587761859afb30c99cdb5bbb7b20b">definition</a>.<a class="code" href="struct_udine_1_1_neighbourhood.html#c3471fcbd33b97ef04823b49719d7fb6">type</a>); r++)
<a name="l00355"></a>00355           <span class="keywordflow">try</span> {
<a name="l00356"></a>00356             <span class="keywordflow">if</span> (<a class="code" href="strategy_8cpp.html#e32e602f9e9db5c127e1eece8c797425">roundProperly</a>(getValue(<a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#102fa262004a7b6229173b43c8000f95">vars</a>.<a class="code" href="struct_udine_1_1_variables.html#a2eb63247509b9e19c3ca82b1ff3becd">x</a>[p][r][c])) == 1) {
<a name="l00357"></a>00357               log &lt;&lt; <span class="stringliteral">"&lt;session course='"</span> &lt;&lt; <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#e1a1e700d38b731c4785686fc2badeed">instance</a>.<a class="code" href="class_udine_1_1_instance.html#4c909a0eef4e65ba4ab46d61b64fbca3">getCourse</a>(c).<a class="code" href="struct_udine_1_1_course.html#cd3122bcf966c9853a88871541328e75">name</a>;
<a name="l00358"></a>00358               log &lt;&lt; <span class="stringliteral">"' room='"</span> &lt;&lt; <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#e1a1e700d38b731c4785686fc2badeed">instance</a>.<a class="code" href="class_udine_1_1_instance.html#dd4036fa0d38447a03c9e0ebacdfc019">getRoomName</a>(r);
<a name="l00359"></a>00359               log &lt;&lt; <span class="stringliteral">"' period='"</span> &lt;&lt; p;
<a name="l00360"></a>00360               log &lt;&lt; <span class="stringliteral">"' day='"</span> &lt;&lt; day;
<a name="l00361"></a>00361               log &lt;&lt; <span class="stringliteral">"' periodWithin='"</span> &lt;&lt; periodWithin;
<a name="l00362"></a>00362               log &lt;&lt; <span class="stringliteral">"'/&gt; "</span>;
<a name="l00363"></a>00363               sol &lt;&lt; <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#e1a1e700d38b731c4785686fc2badeed">instance</a>.<a class="code" href="class_udine_1_1_instance.html#4c909a0eef4e65ba4ab46d61b64fbca3">getCourse</a>(c).<a class="code" href="struct_udine_1_1_course.html#cd3122bcf966c9853a88871541328e75">name</a> &lt;&lt; <span class="stringliteral">" "</span>;
<a name="l00364"></a>00364               sol &lt;&lt; <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#e1a1e700d38b731c4785686fc2badeed">instance</a>.<a class="code" href="class_udine_1_1_instance.html#dd4036fa0d38447a03c9e0ebacdfc019">getRoomName</a>(r) &lt;&lt; <span class="stringliteral">" "</span>;
<a name="l00365"></a>00365               sol &lt;&lt; day &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; periodWithin &lt;&lt; <span class="stringliteral">"\n"</span>;
<a name="l00366"></a>00366             }
<a name="l00367"></a>00367           } <span class="keywordflow">catch</span> (IloAlgorithm::NotExtractedException e)  { std::cerr &lt;&lt; <span class="stringliteral">"Error retrieving "</span> &lt;&lt; <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#102fa262004a7b6229173b43c8000f95">vars</a>.<a class="code" href="struct_udine_1_1_variables.html#a2eb63247509b9e19c3ca82b1ff3becd">x</a>[p][r][c].getName() &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; std::endl; }
<a name="l00368"></a>00368             <span class="keywordflow">catch</span> (...)  { std::cerr &lt;&lt; <span class="stringliteral">"Unknown error retrieving "</span> &lt;&lt; <a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#102fa262004a7b6229173b43c8000f95">vars</a>.<a class="code" href="struct_udine_1_1_variables.html#a2eb63247509b9e19c3ca82b1ff3becd">x</a>[p][r][c].getName() &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; std::endl; <span class="keywordflow">throw</span>; }
<a name="l00369"></a>00369           
<a name="l00370"></a>00370       }
<a name="l00371"></a>00371 
<a name="l00372"></a>00372     log &lt;&lt; <span class="stringliteral">"&lt;/solution&gt;\n"</span>;
<a name="l00373"></a>00373 
<a name="l00374"></a>00374     <a class="code" href="class_udine_1_1_strategy_i.html#a588eceb4e1520c02b2255162374757e">env</a>.out() &lt;&lt; <span class="stringliteral">"&lt;/cplex&gt;\n"</span> &lt;&lt; log.str();
<a name="l00375"></a>00375     <a class="code" href="class_udine_1_1_strategy_i.html#a588eceb4e1520c02b2255162374757e">env</a>.out() &lt;&lt; <span class="stringliteral">"\n&lt;cplex&gt;"</span> &lt;&lt; std::endl;
<a name="l00376"></a>00376 
<a name="l00377"></a>00377     std::stringstream xmlname;
<a name="l00378"></a>00378     xmlname &lt;&lt; <a class="code" href="class_udine_1_1_strategy_i.html#88206bf5447f65d712d08bc9b67c0473">config</a>.<a class="code" href="struct_udine_1_1_config.html#19bdbb787d800b77fe8565ea543173b1">path</a> &lt;&lt; <span class="stringliteral">".sol"</span> &lt;&lt; pTotal &lt;&lt; <span class="stringliteral">".xml"</span>;
<a name="l00379"></a>00379     std::ofstream solFile(xmlname.str().c_str(), ios::out);
<a name="l00380"></a>00380     solFile &lt;&lt; log.str() &lt;&lt; std::endl;
<a name="l00381"></a>00381     solFile.close();
<a name="l00382"></a>00382 
<a name="l00383"></a>00383     std::stringstream solname;
<a name="l00384"></a>00384     solname &lt;&lt; <a class="code" href="class_udine_1_1_strategy_i.html#88206bf5447f65d712d08bc9b67c0473">config</a>.<a class="code" href="struct_udine_1_1_config.html#19bdbb787d800b77fe8565ea543173b1">path</a> &lt;&lt; <span class="stringliteral">".sol"</span> &lt;&lt; pTotal &lt;&lt; <span class="stringliteral">".out"</span>;
<a name="l00385"></a>00385     solFile.open(solname.str().c_str(), ios::out);
<a name="l00386"></a>00386     solFile &lt;&lt; sol.str() &lt;&lt; std::endl;
<a name="l00387"></a>00387     solFile.close();
<a name="l00388"></a>00388 
<a name="l00389"></a>00389     <a class="code" href="class_udine_1_1_strategy_i.html#88206bf5447f65d712d08bc9b67c0473">config</a>.<a class="code" href="struct_udine_1_1_config.html#9fab37afc997f98ed30b5abbad902d55">addSolutionCost</a>(<a class="code" href="class_udine_1_1_strategy_i.html#c37977ee8b13268603b6a8ab41e071cd">model</a>.<a class="code" href="class_udine_1_1_model.html#928587761859afb30c99cdb5bbb7b20b">definition</a>.<a class="code" href="struct_udine_1_1_neighbourhood.html#c3471fcbd33b97ef04823b49719d7fb6">type</a>, pTotal);
<a name="l00390"></a>00390   }
<a name="l00391"></a>00391   <span class="keywordflow">catch</span> (IloException&amp; e) { <a class="code" href="class_udine_1_1_strategy_i.html#a588eceb4e1520c02b2255162374757e">env</a>.error() &lt;&lt; <span class="stringliteral">"Concert error: "</span> &lt;&lt; e &lt;&lt; std::endl; }
<a name="l00392"></a>00392   <span class="keywordflow">catch</span> (...) { <a class="code" href="class_udine_1_1_strategy_i.html#a588eceb4e1520c02b2255162374757e">env</a>.error() &lt;&lt; <span class="stringliteral">"Unknown error: "</span> &lt;&lt; std::endl; <span class="keywordflow">throw</span>; }
<a name="l00393"></a>00393 }
</pre></div>
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="strategy_8h_source.html">strategy.h</a><li>src/<a class="el" href="strategy_8cpp_source.html">strategy.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon May 11 19:03:10 2009 for MemosTimetabling by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
